# دفتر محاسبي دون اتصال

تطبيق Next.js 14 يعمل بالكامل داخل المتصفح مع Dexie/IndexedDB لإدارة دفتر الخزنة والإدارة الرقمية والمحافظ. الواجهة عربية (RTL) وتعتمد على shadcn/ui و Recharts وتكامل TanStack Table مبسط.

## التشغيل
1. ثبّت الاعتمادات بـ `npm install` (يتطلب اتصالًا بالإنترنت).
2. شغّل التطبيق محليًا: `npm run dev` ثم افتح `http://localhost:3000`.

## التخزين دون اتصال
- جميع البيانات محفوظة في IndexedDB من خلال Dexie في قاعدة `ledger-db`.
- لا توجد قاعدة بيانات خادم، ويمكن استخدام التطبيق بدون اتصال بعد التحميل الأول.

## إنشاء الحسابات والحركات
- من صفحة **الحسابات** يمكن إضافة حسابات خزنة/بنك/محفظة مع رصيد افتتاحي.
- من صفحات **الخزنة** و **الإدارة الرقمية** أضف الحركات مع رصيد جارٍ شبيه بالإكسل.
- صفحة **التحويلات** تنشئ تحويلاً واحدًا مرتبطًا بحركتين تلقائيًا بين الدفاتر.

## المطابقة
- صفحة **المطابقة** تعرض اقتراحات بناءً على نفس المبلغ واتجاهين متعاكسين وتاريخ متقارب.
- يمكن اختيار حركتين يدويًا وإنشاء Match لربطهما.

## التصدير/الاستيراد
- من **الإعدادات**: تصدير جميع البيانات إلى JSON أو تنزيل نموذج CSV للرؤوس (لنسخ البيانات من Excel إلى CSV).
- الاستيراد يتم عبر تحميل ملف JSON؛ تتم إعادة تحميل التطبيق بعد حذف قاعدة IndexedDB.

## التقارير
- صفحة **التقارير** تعرض مخطط تدفقات شهرية ومخطط مصروفات حسب التصنيف وقائمة أرصدة حسابات.
- يمكن إضافة صفحات أخرى عند الحاجة لعرض الجرد والفروقات.

## مزامنة Google Sheets (اختياري)
- مسارات API جاهزة: `/api/google/auth`, `/api/google/push`, `/api/google/pull`.
- أضف بيانات الاعتماد والرموز البيئية لتمكين الاتصال لاحقًا (غير مفعلة افتراضيًا).
