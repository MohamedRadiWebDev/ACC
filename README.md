# دفتر محاسبي دون اتصال

تطبيق Next.js 14 يعمل بالكامل داخل المتصفح مع Dexie/IndexedDB لإدارة الخزنة، البنوك، العهد، السلف، الإيراد والمحافظ الرقمية.
الواجهة عربية (RTL) وتعتمد على shadcn/ui و Recharts و TanStack Table.

## التشغيل
1. ثبّت الاعتمادات بـ `npm install` (يتطلب اتصالًا بالإنترنت).
2. شغّل التطبيق محليًا: `npm run dev` ثم افتح `http://localhost:3000`.
3. اختبارات الوحدة: `npm run test`.

## التخزين دون اتصال
- جميع البيانات محفوظة في IndexedDB من خلال Dexie في قاعدة `ledger-db`.
- لا توجد قاعدة بيانات خادم، ويمكن استخدام التطبيق بدون اتصال بعد التحميل الأول.

## إنشاء البيانات اليومية
- من صفحة **الخزنة** أضف الحركات اليومية مع رصيد جارٍ تلقائي.
- صفحة **جرد الخزينة** تسجل الفئات النقدية وتحسب الزيادة/العجز.
- صفحة **البنوك** تسمح بإدخال حركات كل بنك مع رصيد جارٍ.
- صفحات **السلف** و **العهد** تحسب الأرصدة لكل موظف/مستلم.
- صفحة **الايراد** تحسب الاستحقاق والتأخير.

## المطابقة
- صفحة **المطابقة** تعرض اقتراحات بناءً على نفس المبلغ واتجاهين متعاكسين وتاريخ متقارب.

## التصدير/الاستيراد
- من **استيراد/تصدير**: تصدير جميع البيانات إلى JSON أو تنزيل نموذج XLSX فارغ عبر SheetJS.
- الاستيراد يتم عبر تحميل ملف JSON مع خيار الدمج أو الاستبدال دون حذف القاعدة.

## مزامنة Google Sheets (اختياري)
- مسارات API جاهزة: `/api/google/auth`, `/api/google/push`, `/api/google/pull`.
- أضف بيانات الاعتماد والرموز البيئية لتمكين الاتصال لاحقًا (غير مفعلة افتراضيًا).
